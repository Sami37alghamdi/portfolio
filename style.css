/* Custom Additions matching the elegant premium mobile-first vision */

/* Glassmorphism for Top Header */
.glassmorphism {
    background: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
}

.dark .glassmorphism {
    background: rgba(15, 23, 42, 0.75);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

/* Glassmorphism for Bottom Nav */
.glassmorphism-bottom {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border-top: 1px solid rgba(255, 255, 255, 0.4);
}

.dark .glassmorphism-bottom {
    background: rgba(30, 41, 59, 0.85);
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

/* Math Background Pattern */
/* We use a data URI SVG with math symbols */
.math-bg {
    position: relative;
}

.math-bg::before {
    content: '';
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: -1;
    pointer-events: none;
    /* An SVG pattern of math symbols */
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000000' fill-opacity='0.03' fill-rule='evenodd'%3E%3Ctext x='10' y='20' font-family='serif' font-size='16'%3Eπ%3C/text%3E%3Ctext x='60' y='30' font-family='serif' font-size='18'%3E∑%3C/text%3E%3Ctext x='30' y='70' font-family='serif' font-size='20'%3E∫%3C/text%3E%3Ctext x='80' y='80' font-family='serif' font-size='16'%3E∞%3C/text%3E%3Ctext x='15' y='90' font-family='serif' font-size='14'%3E√%3C/text%3E%3Ctext x='85' y='15' font-family='serif' font-size='15'%3EΔ%3C/text%3E%3Ctext x='45' y='50' font-family='serif' font-size='12'%3Eƒ(x)%3C/text%3E%3C/g%3E%3C/svg%3E");
    background-repeat: repeat;
    transition: opacity 0.3s ease;
}

.dark .math-bg::before {
    /* White symbols for dark mode with very low opacity */
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.02' fill-rule='evenodd'%3E%3Ctext x='10' y='20' font-family='serif' font-size='16'%3Eπ%3C/text%3E%3Ctext x='60' y='30' font-family='serif' font-size='18'%3E∑%3C/text%3E%3Ctext x='30' y='70' font-family='serif' font-size='20'%3E∫%3C/text%3E%3Ctext x='80' y='80' font-family='serif' font-size='16'%3E∞%3C/text%3E%3Ctext x='15' y='90' font-family='serif' font-size='14'%3E√%3C/text%3E%3Ctext x='85' y='15' font-family='serif' font-size='15'%3EΔ%3C/text%3E%3Ctext x='45' y='50' font-family='serif' font-size='12'%3Eƒ(x)%3C/text%3E%3C/g%3E%3C/svg%3E");
}

/* Hide Scrollbar but Keep Functionality */
.hidden-scrollbar::-webkit-scrollbar {
    display: none;
}
.hidden-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}

/* Animations */
.content-fade-in {
    animation: fadeIn 0.4s ease-out forwards;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Active Nav State */
.nav-btn.active {
    color: #0f766e; /* light brand */
}
.dark .nav-btn.active {
    color: #2dd4bf; /* dark brand */
}

.nav-btn.active .nav-icon {
    transform: translateY(-4px) scale(1.15);
}

/* Add safe area for modern mobile notches */
.pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 1rem);
}

/* Prevent tap highlight on mobile for clean look */
.disable-tap-highlight {
    -webkit-tap-highlight-color: transparent;
}

/* Image Placeholder styling */
.img-placeholder {
    width: 100%;
    aspect-ratio: 16/9;
    background: linear-gradient(135deg, #0f766e 0%, #064e3b 100%);
    border-radius: 0 0 2rem 2rem;
    display: flex;
    justify-content: center;
    align-items: center;
    color: rgba(255,255,255,0.2);
    font-size: 3rem;
}

/* Custom progress bars for Nafes */
.progress-bar-bg {
    background-color: #e2e8f0;
    border-radius: 9999px;
    overflow: hidden;
    height: 12px;
}
.dark .progress-bar-bg {
    background-color: #334155;
}

.progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #0f766e, #2dd4bf);
    border-radius: 9999px;
    transition: width 1s ease-out;
}
